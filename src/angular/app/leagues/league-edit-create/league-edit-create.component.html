<template [ngIf]="leagueForm == null">
    <loading></loading>
</template>
<template [ngIf]="leagueForm != null">
    <div class="card">
        <div class="card-content blue-grey-text">
            <template [ngIf]="editMode">
                <span class="card-title">Edit League</span>
            </template>
            <template [ngIf]="!editMode">
                <span class="card-title">Create League</span>
            </template>
            <form [formGroup]="leagueForm">
                <div class="row">
                    <div class="input-field col s12 l8 offset-l2">
                        <i class="material-icons prefix">label_outline</i>
                        <input id="name" type="text" formControlName="name" name="name" [class.invalid]="!!formErrors.name"
                               autocomplete="off"
                               [(ngModel)]="name" (ngModelChange)="updatePageTitle($event)"
                               required="" aria-required="true">
                        <label [ngClass]="{'active': !!name}" for="name" [attr.data-error]="formErrors.name">League Name</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l8 offset-l2">
                        <i class="material-icons prefix">info_outline</i>
                        <input id="description" type="text" class="validate" autocomplete="off" name="description" [(ngModel)]="description"
                               formControlName="description">
                        <label [ngClass]="{'active': !!description}" for="description">Description</label>
                    </div>
                </div>
                <div class="row">
                    <!--
                                    <div class="col s6">
                                        <label>Sport</label>
                                        <p>
                                            <input name="sport" type="radio" id="foosSport" value="foos" [(ngModel)]="sport" required="" aria-required="true"/>
                                            <label for="foosSport">Foosball</label>
                                        </p>
                                        <p>
                                            <input name="sport" type="radio" id="tennisSport" value="tabletennis" [(ngModel)]="sport" required=""
                                                   aria-required="true"/>
                                            <label for="tennisSport">Table tennis</label>
                                        </p>
                                    </div>
                    -->
                    <div class="col s6 offset-s6">
                        <div class="right">
                            <input type="file" accept="image/*" #fileInput style="display:none;">
                            <div class="league-icon-frame">
                                <img src="{{leagueImageUrl}}?size=64" alt="League Icon" class="league-icon circle preview"
                                     (click)="fileInput.click()">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="col s12 l8 offset-l2">
            <template [ngIf]="!editMode">
                <button class="btn waves-effect waves-light light-blue darken-3 right" type="submit" name="create"
                        [disabled]="!leagueForm.valid"
                        (click)="onCreateClicked()">Create
                    <i class="material-icons right">send</i>
                </button>
            </template>
            <template [ngIf]="editMode">
                <button class="btn waves-effect waves-light light-blue darken-3 right" type="submit" name="create"
                        [disabled]="!leagueForm.valid"
                        (click)="onUpdateClicked()">Update
                    <i class="material-icons right">send</i>
                </button>
            </template>
        </div>
    </div>
</template>